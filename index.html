<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>NHë†í˜‘ì€í–‰</title>
  <meta name="theme-color" content="#ffffff" />
  <style>
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body { margin:0; padding:0; height:100%; background:#f6f6f6;
      font-family:-apple-system,BlinkMacSystemFont,"Apple SD Gothic Neo","Noto Sans KR","Segoe UI",sans-serif; color:#222; }

    /* ====== View ì „í™˜ ====== */
    .view { position:fixed; inset:0; background:#fff; overflow-y:auto;
      transform:translateX(100%); transition:transform .35s ease; }
    #homeView { transform:translateX(0); }
    .view.active { transform:translateX(0)!important; }
    .view.hiddenLeft { transform:translateX(-100%); }

    /* ====== í™ˆ ìƒë‹¨ ë°” ====== */
    .topbar { background:#fff; padding:10px 12px 6px; border-bottom:1px solid #eee; }
    .top-row { display:flex; align-items:center; justify-content:space-between; }
    .greeting { font-size:22px; font-weight:800; }
    .right-icons { display:flex; gap:8px; }
    .icon-btn { width:36px; height:36px; border-radius:18px; background:#f1f3f5; display:flex; align-items:center; justify-content:center; font-size:18px; }

    .banner { margin:10px 0 6px; background:#fff; border:1px solid #eef0f3; border-radius:12px; padding:14px 12px; display:flex; align-items:center; gap:10px; }
    .banner .emoji { font-size:22px; }
    .banner .msg { font-size:14px; line-height:1.4; color:#333; }
    .banner .msg b { color:#0a7c2f; }

    /* ì„¹ì…˜ í—¤ë” */
    .section-header { background:#fff; border-top:1px solid #eee; border-bottom:1px solid #eee; padding:12px; display:flex; align-items:center; justify-content:space-between; }
    .section-title { font-size:18px; font-weight:800; }
    .header-actions { display:flex; gap:12px; }
    .link-sm { font-size:13px; color:#6563ff; }

    /* ê³„ì¢Œ ì¹´ë“œ */
    .section { padding:14px 12px 20px; }
    .card {
      background:#fff; border-radius:14px; box-shadow:0 1px 4px rgba(0,0,0,.06);
      padding:16px; margin:10px 4px; cursor:pointer;
    }
    .card:active { transform:scale(.998); }
    .acct-title { font-size:16px; font-weight:700; margin-bottom:6px; display:flex; gap:8px; align-items:center; }
    .limit-pill { font-size:11px; color:#666; background:#f0f0f0; border-radius:12px; padding:4px 8px; }
    .acct-num { font-size:14px; color:#888; }
    .btn-row { display:flex; gap:10px; margin-top:14px; }
    .action-btn { flex:1; height:40px; border:0; border-radius:10px; background:#f1f1f5; font-weight:700; color:#333; }

    /* ë‚´ ëª¨ì„ ë°°ë„ˆ */
    .group-card { background:#fff; border-radius:14px; padding:16px; box-shadow:0 1px 4px rgba(0,0,0,.06); }
    .group-title { font-size:15px; color:#555; margin-bottom:10px; }
    .group-box { background:#f6fbf8; border:1px solid #e3f2ea; border-radius:12px; padding:14px; display:flex; align-items:center; justify-content:space-between; }
    .pill-btn { background:linear-gradient(90deg,#1fb37b,#2d8eff); color:#fff; border:0; padding:12px 18px; border-radius:22px; font-weight:800; }

    /* í•˜ë‹¨ íƒ­ */
    .bottom-tabs { position:sticky; bottom:0; background:#fff; border-top:1px solid #eee; display:flex; justify-content:space-around; padding:10px 6px calc(env(safe-area-inset-bottom) + 6px); }
    .tab { display:flex; flex-direction:column; align-items:center; gap:6px; font-size:11.8px; color:#777; }
    .tab .circle { width:28px; height:28px; border-radius:14px; background:#f2f2f2; display:flex; align-items:center; justify-content:center; font-size:14px; }
    .tab.active { color:#0a7c2f; }
    .tab.active .circle { background:#e8f5ee; }

    /* ====== ê±°ë˜ë‚´ì—­ ====== */
    .appbar { position:sticky; top:0; z-index:5; background:#fff; border-bottom:1px solid #eee; height:56px; display:flex; align-items:center; justify-content:center; }
    .appbar .back { position:absolute; left:6px; top:0; height:56px; width:56px; border:0; background:none; font-size:22px; }
    .appbar h1 { font-size:18px; font-weight:700; }

    .summary { background:#fff; border-bottom:1px solid #eee; padding:12px 16px; }
    .sum-row { display:flex; align-items:center; justify-content:space-between; gap:10px; }
    .bankblock { min-width:0; }
    .bankline { font-size:15px; font-weight:700; }
    .acctline { font-size:13px; color:#777; margin-top:2px; }
    .filter-btn { border:0; background:#f1f3f5; width:40px; height:40px; border-radius:10px; font-size:18px; }

    .filterline { font-size:12px; color:#666; margin-top:10px; }

    .tx-list { margin-top:8px; }
    .tx-item { background:#fff; padding:16px; border-bottom:1px solid #f0f0f0; }
    .tx-date { font-size:12.5px; color:#8a8a8a; margin-bottom:6px; }
    .tx-row { display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
    .tx-name { font-size:15.5px; font-weight:700; color:#111; }
    .tx-amount { text-align:right; }
    .tx-type { font-size:12px; margin-bottom:2px; font-weight:700; }
    .tx-amt { font-size:18px; font-weight:800; }
    .deposit { color:#1976d2; }   /* íŒŒë‘ */
    .withdraw { color:#d32f2f; }  /* ë¹¨ê°• */
    .tx-bal { margin-top:2px; font-size:12.5px; color:#8a8a8a; }

    /* ====== ê¸°ê°„/ì •ë ¬/êµ¬ë¶„ ëª¨ë‹¬ ====== */
    .sheet { position:fixed; left:0; right:0; bottom:-100%; background:#fff; border-top-left-radius:16px; border-top-right-radius:16px; box-shadow:0 -8px 24px rgba(0,0,0,.18); transition:bottom .28s ease; z-index:30; }
    .sheet.show { bottom:0; }
    .sheet-head { padding:14px 16px; border-bottom:1px solid #eee; display:flex; align-items:center; justify-content:space-between; }
    .sheet-title { font-size:16px; font-weight:800; }
    .sheet-close { border:0; background:none; font-size:22px; }
    .sheet-body { padding:14px 16px 22px; }
    .grid-4 { display:grid; grid-template-columns:repeat(4,1fr); gap:8px; }
    .grid-2 { display:grid; grid-template-columns:repeat(2,1fr); gap:8px; margin-top:14px; }
    .grid-3 { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:14px; }
    .opt { padding:12px 8px; border:1px solid #e0e0e0; border-radius:10px; background:#fff; font-size:14px; text-align:center; }
    .opt.selected { border:2px solid #0a7c2f; background:#f0fff6; font-weight:800; color:#0a7c2f; }
    .apply { margin-top:18px; width:100%; background:#0a7c2f; color:#fff; border:0; border-radius:12px; padding:14px; font-size:16px; font-weight:800; }

    .safe { height:16px; }
  </style>
</head>
<body>

  <!-- ========================= í™ˆ ========================= -->
  <section id="homeView" class="view">
    <div class="topbar">
      <div class="top-row">
        <div class="greeting">ì£¼ì„±ê´‘ë‹˜</div>
        <div class="right-icons">
          <div class="icon-btn">ğŸ””</div>
          <div class="icon-btn">â˜°</div>
        </div>
      </div>

      <!-- ìƒë‹¨ ë°°ë„ˆ -->
      <div class="banner">
        <div class="emoji">ğŸ¥</div>
        <div class="msg">100% ë‹¹ì²¨ <b>ì˜¬ì›ë£°ë ›!</b> ë§¤ì¼ ìµœëŒ€ 5ë§ŒP<br/>ì˜¤ëŠ˜ì€ ì–¼ë§ˆ? <b>ì§€ê¸ˆ í™•ì¸í•˜ì„¸ìš”!</b></div>
      </div>
    </div>

    <!-- ë‚´ ê³„ì¢Œ í—¤ë” -->
    <div class="section-header">
      <div class="section-title">ë‚´ ê³„ì¢Œ</div>
      <div class="header-actions">
        <div class="link-sm">ê³„ì¢Œë“±ë¡/ê´€ë¦¬</div>
        <div class="link-sm">ì „ì²´ê³„ì¢Œì¡°íšŒ</div>
      </div>
    </div>

    <!-- ê³„ì¢Œ ë¦¬ìŠ¤íŠ¸ (1ê°œ) -->
    <div class="section">
      <div id="accountCard" class="card" role="button" aria-label="ê³„ì¢Œ ë³´ê¸°">
        <div class="acct-title">
          <span class="limit-pill">í•œë„ì œí•œê³„ì¢Œ</span>
          NHí˜ì´ëª¨ì•„í†µì¥(ë¹„ëŒ€ë©´ì‹¤ëª…í™•ì¸)
        </div>
        <div class="acct-num">302-1934-2120-51</div>
        <div class="btn-row" aria-hidden="true">
          <button class="action-btn" type="button">ATMì¶œê¸ˆ</button>
          <button class="action-btn" type="button">ì±„ìš°ê¸°</button>
          <button class="action-btn" type="button">ë³´ë‚´ê¸°</button>
        </div>
      </div>
    </div>

    <!-- ë‚´ ëª¨ì„ ì„¹ì…˜ -->
    <div class="section-header">
      <div class="section-title">ë‚´ ëª¨ì„</div>
      <div></div>
    </div>
    <div class="section">
      <div class="group-card">
        <div class="group-title">í•¨ê»˜í•˜ëŠ” ìˆœê°„ì´ ë” ì‰½ê³  ì¦ê±°ì›Œì§€ëŠ”</div>
        <div class="group-box">
          <div>NHì˜¬ì›ëª¨ì„ì„œë¹„ìŠ¤ì™€ í•¨ê»˜í•´ìš”</div>
          <button class="pill-btn" type="button">ë‚´ ìì‚° í™•ì¸ âŒ„</button>
        </div>
      </div>
    </div>

    <!-- í•˜ë‹¨ íƒ­ -->
    <nav class="bottom-tabs">
      <div class="tab active">
        <div class="circle">ğŸ </div><div>í™ˆ</div>
      </div>
      <div class="tab"><div class="circle">ğŸ›ï¸</div><div>ìƒí’ˆëª°</div></div>
      <div class="tab"><div class="circle">ğŸ‘¤</div><div>MY</div></div>
      <div class="tab"><div class="circle">ğŸ…¿ï¸</div><div>í¬ì¸íŠ¸ìŒ“ê¸°</div></div>
      <div class="tab"><div class="circle">ğŸ</div><div>ìƒí™œí˜œíƒ</div></div>
    </nav>
  </section>

  <!-- ====================== ê±°ë˜ë‚´ì—­ì¡°íšŒ ===================== -->
  <section id="txView" class="view">
    <div class="appbar">
      <button class="back" aria-label="ë’¤ë¡œ" onclick="goHome()">â€¹</button>
      <h1>ê±°ë˜ë‚´ì—­ì¡°íšŒ</h1>
    </div>

    <div class="summary">
      <div class="sum-row">
        <div class="bankblock">
          <div class="bankline">NHë†í˜‘ 302-1934-2120-51</div>
          <div class="acctline">NHí˜ì´ëª¨ì•„í†µì¥(ë¹„ëŒ€ë©´ì‹¤ëª…í™•ì¸)</div>
        </div>
        <!-- ê¸°ê°„/ì •ë ¬/êµ¬ë¶„ ì•„ì´ì½˜ -->
        <button id="openFilter" class="filter-btn" aria-label="ì„¤ì •">âš™ï¸</button>
      </div>
      <div id="filterInfo" class="filterline">2024.11.08 ~ 2025.11.07 Â· ì „ì²´ Â· ìµœì‹ ìˆœ</div>
    </div>

    <div id="txList" class="tx-list"></div>
    <div class="safe"></div>
  </section>

  <!-- ====== ê¸°ê°„/ì •ë ¬/êµ¬ë¶„ ë°”í…€ì‹œíŠ¸ ====== -->
  <div id="sheet" class="sheet" role="dialog" aria-modal="true" aria-labelledby="sheetTitle">
    <div class="sheet-head">
      <div id="sheetTitle" class="sheet-title">ì¡°íšŒ ì„¤ì •</div>
      <button class="sheet-close" id="closeSheet" aria-label="ë‹«ê¸°">Ã—</button>
    </div>
    <div class="sheet-body">
      <div style="font-weight:800; margin-bottom:8px;">ê¸°ê°„</div>
      <div class="grid-4">
        <button class="opt selected" data-period="1week">1ì£¼ì¼</button>
        <button class="opt" data-period="1month">1ê°œì›”</button>
        <button class="opt" data-period="3months">3ê°œì›”</button>
        <button class="opt" data-period="1year">1ë…„</button>
      </div>

      <div style="font-weight:800; margin:16px 0 8px;">ì •ë ¬</div>
      <div class="grid-2">
        <button class="opt selected" data-sort="latest">ìµœì‹ ìˆœ</button>
        <button class="opt" data-sort="oldest">ê³¼ê±°ìˆœ</button>
      </div>

      <div style="font-weight:800; margin:16px 0 8px;">êµ¬ë¶„</div>
      <div class="grid-3">
        <button class="opt selected" data-type="all">ì „ì²´</button>
        <button class="opt" data-type="deposit">ì…ê¸ˆ</button>
        <button class="opt" data-type="withdraw">ì¶œê¸ˆ</button>
      </div>

      <button class="apply" id="applyFilter">ì¡°íšŒ</button>
    </div>
    <div class="safe"></div>
  </div>

  <script>
    /* ======= í™”ë©´ ì „í™˜ ======= */
    const homeView = document.getElementById('homeView');
    const txView   = document.getElementById('txView');
    const card     = document.getElementById('accountCard');

    card.addEventListener('click', (e) => {
      if (e.target.classList.contains('action-btn')) return; // ë²„íŠ¼ì€ ì „í™˜ X
      openTx();
    });
    function openTx() { homeView.classList.add('hiddenLeft'); txView.classList.add('active'); }
    function goHome() { txView.classList.remove('active'); homeView.classList.remove('hiddenLeft'); }

    /* ======= ê±°ë˜ ë°ì´í„° (ì´ë¯¸ì§€ 11ê°œì—ì„œ ì¶”ì¶œ, 19ê±´) ======= */
    const allTransactions = [
      // 2025-01-25
      { type:'withdraw', name:'ì´í¬ì§„',   amount:2824730, date:'2025-01-25', time:'10:08:33', balance:'5,270' },
      { type:'deposit',  name:'ë¹—ì¸',     amount:2830000, date:'2025-01-25', time:'10:08:00', balance:'2,830,000' },

      // 2025-01-24
      { type:'deposit',  name:'ê°€ì•¼ëŒ€ê¸‰ì—¬', amount:3301190, date:'2025-01-24', time:'09:18:45', balance:'3,301,190' },

      // 2025-01-22
      { type:'withdraw', name:'ë¹—ì¸-ì£¼ì„±ê´‘', amount:100000, date:'2025-01-22', time:'13:18:26', balance:'0' },
      { type:'deposit',  name:'êµìˆ˜ìƒì¡°íšŒ',  amount:100000, date:'2025-01-22', time:'13:17:43', balance:'100,000' },

      // 2025-08-25
      { type:'deposit',  name:'ê°€ì•¼ëŒ€ê¸‰ì—¬', amount:3620400, date:'2025-08-25', time:'10:19:27', balance:'3,620,460' },

      // 2025-07-25
      { type:'withdraw', name:'ì´í¬ì§„',   amount:3157210, date:'2025-07-25', time:'19:05:37', balance:'0' },
      { type:'deposit',  name:'ê°€ì•¼ëŒ€ê¸‰ì—¬', amount:3537210, date:'2025-07-25', time:'09:17:27', balance:'3,537,210' },

      // 2025-06-30 & 06-29
      { type:'deposit',  name:'ì´í¬ì§„',   amount:170000,  date:'2025-06-30', time:'08:42:29', balance:'170,000' },
      { type:'withdraw', name:'ê¹€ê²½í›ˆ',   amount:160000,  date:'2025-06-30', time:'12:27:26', balance:'0' },
      { type:'deposit',  name:'ì˜ˆê¸ˆì´ì', amount:0,       date:'2025-06-29', time:'09:19:17', balance:'0' },

      // 2025-06-02
      { type:'withdraw', name:'ì´í¬ì§„',   amount:1521990, date:'2025-06-02', time:'19:43:03', balance:'0' },
      { type:'deposit',  name:'ì£¼ì„±ê´‘',   amount:1520000, date:'2025-06-02', time:'18:24:43', balance:'1,521,990' },

      // 2025-05-30
      { type:'withdraw', name:'ì´í¬ì§„',   amount:3491520, date:'2025-05-30', time:'17:26:14', balance:'1,990' },
      { type:'deposit',  name:'ì£¼ì„±ê´‘',   amount:3491520, date:'2025-05-30', time:'17:24:12', balance:'3,493,510' },

      // 2025-04-17
      { type:'withdraw', name:'ì£¼ì„±ê´‘',   amount:85700,   date:'2025-04-17', time:'14:36:17', balance:'0' },
      { type:'deposit',  name:'ê°€ì•¼ëŒ€ì…í•™ì²˜', amount:82700, date:'2025-04-17', time:'14:33:31', balance:'85,700' },

      // 2024-12-19
      { type:'withdraw', name:'ì´í¬ì§„',   amount:1700000, date:'2024-12-19', time:'20:23:57', balance:'300' },
      { type:'deposit',  name:'ë¹—ì¸',     amount:1700000, date:'2024-12-19', time:'20:22:42', balance:'1,700,300' },
    ];

    /* ======= í•„í„° ìƒíƒœ ======= */
    const filterInfo = document.getElementById('filterInfo');
    const txListEl   = document.getElementById('txList');

    let filterState = { period:'1week', sort:'latest', type:'all' };

    function formatAmt(n){ return n.toLocaleString('ko-KR'); }
    function fmtDate(d){
      const y=d.getFullYear(), m=String(d.getMonth()+1).padStart(2,'0'), dd=String(d.getDate()).padStart(2,'0');
      return `${y}.${m}.${dd}`;
    }
    function periodRange(period){
      const end = new Date('2025-11-07T23:59:59'); // ê¸°ì¤€ì¼
      const start = new Date(end);
      if(period==='1week')  start.setDate(end.getDate()-7);
      if(period==='1month') start.setMonth(end.getMonth()-1);
      if(period==='3months')start.setMonth(end.getMonth()-3);
      if(period==='1year')  start.setFullYear(end.getFullYear()-1);
      return { start, end, label:`${fmtDate(start)} ~ ${fmtDate(end)}` };
    }

    function renderList(){
      const r = periodRange(filterState.period);
      let items = allTransactions
        .filter(t => new Date(`${t.date}T${t.time}`) >= r.start);

      if (filterState.type !== 'all') {
        items = items.filter(t => t.type === filterState.type);
      }

      items.sort((a,b)=> filterState.sort==='latest'
        ? new Date(`${b.date}T${b.time}`) - new Date(`${a.date}T${a.time}`)
        : new Date(`${a.date}T${a.time}`) - new Date(`${b.date}T${b.time}`));

      const typeLabel = { all:'ì „ì²´', deposit:'ì…ê¸ˆ', withdraw:'ì¶œê¸ˆ' }[filterState.type];
      filterInfo.textContent =
        `${r.label} Â· ${typeLabel} Â· ${filterState.sort==='latest'?'ìµœì‹ ìˆœ':'ê³¼ê±°ìˆœ'}`;

      if(items.length===0){
        txListEl.innerHTML = `<div style="padding:36px; text-align:center; color:#999;">ê±°ë˜ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</div>`;
        return;
      }

      txListEl.innerHTML = items.map(t => {
        const isDeposit = t.type === 'deposit';
        const typeCls = isDeposit ? 'deposit' : 'withdraw';
        const typeTxt = isDeposit ? 'ì…ê¸ˆ' : 'ì¶œê¸ˆ';
        return `
        <div class="tx-item">
          <div class="tx-date">${t.date.replaceAll('-','.')} ${t.time}</div>
          <div class="tx-row">
            <div class="tx-name">${t.name}</div>
            <div class="tx-amount">
              <div class="tx-type ${typeCls}">${typeTxt}</div>
              <div class="tx-amt ${typeCls}">${formatAmt(t.amount)}ì›</div>
              <div class="tx-bal">ì”ì•¡ ${t.balance}ì›</div>
            </div>
          </div>
        </div>`;
      }).join('');
    }

    /* ======= ë°”í…€ì‹œíŠ¸(ê¸°ê°„/ì •ë ¬/êµ¬ë¶„) ======= */
    const sheet = document.getElementById('sheet');
    const openFilterBtn = document.getElementById('openFilter');
    const closeSheetBtn = document.getElementById('closeSheet');
    const applyBtn = document.getElementById('applyFilter');

    openFilterBtn.addEventListener('click', ()=> sheet.classList.add('show'));
    closeSheetBtn.addEventListener('click', ()=> sheet.classList.remove('show'));

    // ì˜µì…˜ í† ê¸€
    document.querySelectorAll('.opt').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const group = btn.dataset.period ? '[data-period]' :
                      btn.dataset.sort   ? '[data-sort]'   :
                      '[data-type]';
        document.querySelectorAll(group).forEach(b=>b.classList.remove('selected'));
        btn.classList.add('selected');
      });
    });

    applyBtn.addEventListener('click', ()=>{
      const periodSel = document.querySelector('.opt.selected[data-period]')?.dataset.period || '1week';
      const sortSel   = document.querySelector('.opt.selected[data-sort]')?.dataset.sort   || 'latest';
      const typeSel   = document.querySelector('.opt.selected[data-type]')?.dataset.type   || 'all';
      filterState = { period:periodSel, sort:sortSel, type:typeSel };
      sheet.classList.remove('show');
      renderList();
    });

    // ì´ˆê¸° ë Œë”
    renderList();
  </script>
</body>
</html>
