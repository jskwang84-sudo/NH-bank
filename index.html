<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#00B050">
    <title>NHë†í˜‘ì€í–‰</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; height: 100vh; overflow: hidden; }
        #app { height: 100%; display: flex; flex-direction: column; background: linear-gradient(to bottom, #00B050, #008C3C); }
        .header { background: linear-gradient(to right, #00B050, #00A045); color: white; padding: 24px; }
        .header-top { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .title { font-size: 20px; font-weight: bold; }
        .balance { font-size: 28px; font-weight: bold; margin: 10px 0; }
        .content { flex: 1; overflow-y: auto; background: #f5f5f5; padding: 16px; }
        .card { background: white; border-radius: 12px; padding: 16px; margin-bottom: 16px; }
        .trans-item { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
        .trans-name { font-weight: 500; }
        .trans-date { font-size: 12px; color: #999; margin-top: 4px; }
        .amount { font-weight: bold; }
        .withdraw { color: #f44336; }
        .deposit { color: #00B050; }
        .filter-btn { padding: 8px 16px; background: #00B050; color: white; border: none; border-radius: 6px; cursor: pointer; }
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; }
        .modal.show { display: flex; align-items: flex-end; }
        .modal-content { background: white; width: 100%; border-radius: 20px 20px 0 0; padding: 24px; max-height: 80vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .close-btn { font-size: 24px; border: none; background: none; cursor: pointer; }
        .filter-options { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin: 12px 0; }
        .filter-option { padding: 12px; border: 1px solid #ddd; border-radius: 8px; text-align: center; cursor: pointer; background: white; }
        .filter-option.active { border: 2px solid #00B050; background: #f0fff4; color: #00B050; font-weight: bold; }
        .submit-btn { width: 100%; padding: 16px; background: #00B050; color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 20px; }
    </style>
</head>
<body>
    <div id="app">
        <div class="header">
            <div class="header-top">
                <div class="title">NHë†í˜‘ì€í–‰</div>
                <div>ğŸ‘¤</div>
            </div>
            <div style="color: rgba(255,255,255,0.8); font-size: 14px;">ì…ì¶œê¸ˆ í†µì¥</div>
            <div class="balance">1,245,000ì›</div>
            <div style="color: rgba(255,255,255,0.8); font-size: 12px;">302-1934-2120-51</div>
        </div>

        <div class="content">
            <div class="card">
                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                    <h3>ê±°ë˜ë‚´ì—­</h3>
                    <button class="filter-btn" onclick="openFilter()">ì¡°íšŒê¸°ê°„ ì„ íƒ</button>
                </div>
                <div id="filter-info" style="font-size: 12px; color: #666; margin-bottom: 12px;">
                    2025.10.31 ~ 2025.11.07 Â· 1ì£¼ì¼ Â· ì „ì²´ Â· ìµœì‹ ìˆœ
                </div>
                <div id="transactions"></div>
            </div>
        </div>
    </div>

    <div id="filterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ì¡°íšŒê¸°ê°„ ì„ íƒ</h3>
                <button class="close-btn" onclick="closeFilter()">Ã—</button>
            </div>
            
            <div style="margin-bottom: 20px;">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">ê¸°ê°„</div>
                <div class="filter-options">
                    <button class="filter-option active" onclick="selectPeriod('1week', this)">1ì£¼ì¼</button>
                    <button class="filter-option" onclick="selectPeriod('1month', this)">1ê°œì›”</button>
                    <button class="filter-option" onclick="selectPeriod('3months', this)">3ê°œì›”</button>
                    <button class="filter-option" onclick="selectPeriod('1year', this)">1ë…„</button>
                </div>
            </div>

            <div style="margin-bottom: 20px;">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">ì •ë ¬</div>
                <div class="filter-options" style="grid-template-columns: repeat(2, 1fr);">
                    <button class="filter-option active" onclick="selectSort('latest', this)">ìµœì‹ ìˆœ</button>
                    <button class="filter-option" onclick="selectSort('oldest', this)">ê³¼ê±°ìˆœ</button>
                </div>
            </div>

            <div style="margin-bottom: 20px;">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">êµ¬ë¶„</div>
                <div class="filter-options" style="grid-template-columns: repeat(3, 1fr);">
                    <button class="filter-option active" onclick="selectType('all', this)">ì „ì²´</button>
                    <button class="filter-option" onclick="selectType('deposit', this)">ì…ê¸ˆ</button>
                    <button class="filter-option" onclick="selectType('withdraw', this)">ì¶œê¸ˆ</button>
                </div>
            </div>

            <button class="submit-btn" onclick="applyFilter()">ì¡°íšŒ</button>
        </div>
    </div>

    <script>
        const allTransactions = [
            { id: 1, type: 'withdraw', name: 'ìŠ¤íƒ€ë²…ìŠ¤ ê°•ë‚¨ì ', amount: 5500, date: '2025-11-07', time: '14:23', balance: 1245000 },
            { id: 2, type: 'deposit', name: 'ê¸‰ì—¬ ì…ê¸ˆ', amount: 3500000, date: '2025-11-05', time: '09:00', balance: 1250500 },
            { id: 3, type: 'withdraw', name: 'GS25 í¸ì˜ì ', amount: 8900, date: '2025-11-04', time: '22:15', balance: 2750500 },
            { id: 4, type: 'withdraw', name: 'ì¿ íŒ¡ ê²°ì œ', amount: 45600, date: '2025-11-03', time: '16:40', balance: 2759400 },
            { id: 5, type: 'withdraw', name: 'ë„·í”Œë¦­ìŠ¤', amount: 17000, date: '2025-11-01', time: '00:05', balance: 2805000 },
            { id: 6, type: 'withdraw', name: 'ì´ë§ˆíŠ¸', amount: 125000, date: '2025-10-30', time: '18:30', balance: 2822000 },
            { id: 7, type: 'deposit', name: 'ê³„ì¢Œì´ì²´', amount: 500000, date: '2025-10-28', time: '13:20', balance: 2947000 },
            { id: 8, type: 'withdraw', name: 'SKí…”ë ˆì½¤', amount: 65000, date: '2025-10-25', time: '00:01', balance: 2447000 },
            { id: 9, type: 'withdraw', name: 'ì˜¬ë¦¬ë¸Œì˜', amount: 32000, date: '2025-10-15', time: '15:30', balance: 2512000 },
            { id: 10, type: 'deposit', name: 'ì´ì²´ ì…ê¸ˆ', amount: 100000, date: '2025-10-10', time: '11:20', balance: 2544000 }
        ];

        let currentPeriod = '1week';
        let currentSort = 'latest';
        let currentType = 'all';

        function formatNumber(num) {
            return num.toLocaleString('ko-KR');
        }

        function filterTransactions() {
            const today = new Date('2025-11-07');
            let startDate = new Date(today);

            if (currentPeriod === '1week') startDate.setDate(today.getDate() - 7);
            else if (currentPeriod === '1month') startDate.setMonth(today.getMonth() - 1);
            else if (currentPeriod === '3months') startDate.setMonth(today.getMonth() - 3);
            else if (currentPeriod === '1year') startDate.setFullYear(today.getFullYear() - 1);

            let filtered = allTransactions.filter(t => new Date(t.date) >= startDate);
            if (currentType !== 'all') filtered = filtered.filter(t => t.type === currentType);
            
            filtered.sort((a, b) => {
                const dateA = new Date(a.date + ' ' + a.time);
                const dateB = new Date(b.date + ' ' + b.time);
                return currentSort === 'latest' ? dateB - dateA : dateA - dateB;
            });

            return filtered;
        }

        function renderTransactions() {
            const container = document.getElementById('transactions');
            const transactions = filterTransactions();
            
            container.innerHTML = transactions.map(t => `
                <div class="trans-item">
                    <div>
                        <div class="trans-name">${t.name}</div>
                        <div class="trans-date">${t.date} ${t.time}</div>
                    </div>
                    <div style="text-align: right;">
                        <div class="amount ${t.type}">${t.type === 'deposit' ? '+' : '-'}${formatNumber(t.amount)}ì›</div>
                        <div style="font-size: 12px; color: #999;">${formatNumber(t.balance)}ì›</div>
                    </div>
                </div>
            `).join('');

            updateFilterInfo();
        }

        function updateFilterInfo() {
            const periodLabels = { '1week': '1ì£¼ì¼', '1month': '1ê°œì›”', '3months': '3ê°œì›”', '1year': '1ë…„' };
            const typeLabels = { 'all': 'ì „ì²´', 'deposit': 'ì…ê¸ˆ', 'withdraw': 'ì¶œê¸ˆ' };
            const sortLabels = { 'latest': 'ìµœì‹ ìˆœ', 'oldest': 'ê³¼ê±°ìˆœ' };
            
            const today = new Date('2025-11-07');
            let startDate = new Date(today);
            if (currentPeriod === '1week') startDate.setDate(today.getDate() - 7);
            else if (currentPeriod === '1month') startDate.setMonth(today.getMonth() - 1);
            else if (currentPeriod === '3months') startDate.setMonth(today.getMonth() - 3);
            else if (currentPeriod === '1year') startDate.setFullYear(today.getFullYear() - 1);

            const dateStr = `${startDate.getFullYear()}.${String(startDate.getMonth()+1).padStart(2,'0')}.${String(startDate.getDate()).padStart(2,'0')} ~ 2025.11.07`;
            
            document.getElementById('filter-info').textContent = 
                `${dateStr} Â· ${periodLabels[currentPeriod]} Â· ${typeLabels[currentType]} Â· ${sortLabels[currentSort]}`;
        }

        function openFilter() {
            document.getElementById('filterModal').classList.add('show');
        }

        function closeFilter() {
            document.getElementById('filterModal').classList.remove('show');
        }

        function selectPeriod(period, btn) {
            currentPeriod = period;
            document.querySelectorAll('.filter-options')[0].querySelectorAll('.filter-option').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function selectSort(sort, btn) {
            currentSort = sort;
            document.querySelectorAll('.filter-options')[1].querySelectorAll('.filter-option').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function selectType(type, btn) {
            currentType = type;
            document.querySelectorAll('.filter-options')[2].querySelectorAll('.filter-option').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function applyFilter() {
            renderTransactions();
            closeFilter();
        }

        renderTransactions();
    </script>
</body>
</html>
